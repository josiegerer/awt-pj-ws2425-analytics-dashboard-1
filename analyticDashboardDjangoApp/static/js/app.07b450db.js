(function(){"use strict";var t={4316:function(t,e,a){var s=a(3751),o=a(641),r=a(33),n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABICAYAAABcBhM9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAyGSURBVHgB7ZsJtJVVFcfPG8IHOLxI0VIRnAnQJ5LJIEoIJiwW6gJSEC21mCQyVqImumTVssRVaoWsZAiFbBWpGA6sEpISVEBiEEQGmWJGHsPjAW/4+v3ftz84XO97+u69wIW+vdZ/nfncc/a3zz777HOuczHFFFNMMcUUU0wxxRRTTP/3lOOOIQVBoN8/xRvHPnAgJycn8OrkWp0mYBPYC3b7dY4mHROGGRM6V1ZWXp+bm9uF9GlVg8nJWU3wLngKbAN3gB6Uf111KD9AegfhdMKHCTe7E52Y+BUwaio4UFFRERBWVhhZXHmbwNtWFBwqOqzOevoaCgrciUpMrg2T3RkxgfSHYBBoBpqDB8QsK4/qvA46gBaGe6mzJqoDjbSlfeIQEypkcv0iZkArQR/wJS010A3cqomDuz2GParlK5hULib+CDgbzLM6JcR/rmXrTgRiIhcw0eURE4h/TF4TKxODntUqI5xkzGkRLUWfCcQHkr+D/HJJWVlZ2beJ7/WYu1tMd8c7MYlh0YTAn0g3jpYQYVtNGkYsI36u5bXxltsFCX21Nx22XUxTOfGHyJplH2PFcavTGPhJoJ8mZ5N/xHZHv84I01O3e3lta2BYPnjfmKPyPpZ/OYj02hjiTRN/K6uJwXaXvhEzbOIlpaWl5xN+w5cA4u1Af39yNTHMyhtR1t/aqc+zQD1+7yV/eYIR5J/qsplMJ93nmQxbSE/R7ldeXt6bdDn59ye0KSBvqCctn2EY4Q2knxZjEtpeBXaAB9FpnaT8+Y1FtmyF32a1pDG4az1mvUu6ZTRgSRf5ZUATrOO16aP5gQW2a36GYcQnWfrBhN+73/If8vLqgF950j3YZSMxsDwwxwapnbCh5Rfa0httjJxpukjSeCrpf1ubX1v9ZBJ2n7UtJn6Jt2ncY/Vm2Q57qZasmKYNxsr+m5VSJgYxoVIzETpF+aRf9kyKvVpeQWh7vRbZZYQbIn1TDcNOBwusrsyH6eA8Y/xE8JiYSNkM8Kl2XNCE+pttPL1ctpGWo01yTcKS668lZbvkNy1vqMfERaS7efWTMayepMeM18hGG2FlOV7be6z8jxoD8bnW1zCXbcQAB9lEVvsMS0ba+q3uaOmthH5qMiu07IYbo/+WZAz55C+hfJRJ3ORMMyyTa3su3oMq+4u4Jj3YU/jSKz8GX6760dzck6lbQfR3QAaVzpM9k3VqTLoTDLCsV4DaFli5dOQALWn6LAet6f8nFGkcRfZ7B1y2EQM+xXSYGLDOt7oJf2ESc5eldcwpDUKrvxPxMjDbmHOYhIH6xFdauqt0F3U3Eo60vnpZWY+E8XSrCKmM+GUuQ5RJCdvDwJ63pXAOX3oM2Gdl8m1pEjeb1I2nrCmhvnw/LSXS00BlYqfklSAh0fL7kcZMXmfCJ4zBfa3sQk+iW4FnrO4cwsUuQ5TvMkhaajCrKh6Elrj0k3ay/pbXlQlIMsaCIbbUqnSY7WZ5LvSsHkba+ax9B4Jl9PEG4WPgAdDF6gzn94uQKO248nx81Zpr95Wk73XZRAxwMIPeL+tey8us+sAzBaYRbrO8CstfbGbGK7bcFkQGZ8Iu2cFMCXlfXzVDN9ottxJOlGkCttvZVYfz+aR3+TZeVpE8pDbRFxhgXcIBxpT5pIuC0LDVofgp8uQU/Kl0mNra0upt9fcl2yW95SYToxd4Eei4JKeijOAzgtD+OsNQV3rO+nkvyCYno014pw1uuKXrkZaeuTyhbk6QxPI25a+NYkJFDYdv/zfd54+ri/W1K0gwX44pmaKfZ5N8tJo6Wk5S8KcEh4429cF1JjViZH5QjR1mH+Fs21nzvLz86qRHu7JJ7VbVc9lEDGisDW5uYM5AryxH1reVLyE9GYwz37w4M9arWx3DWksXkr9H51HCCYTvm/Px3iTjkZnznvUzzmUb6cszuJKKQ57PIpOgfCuX3+ovVqfK/WJnSx2NrvH6qY5hp4K3JC2UlXubhxR8b6tzMjgdV8810ls2lp0ai8tGCkJXTZlNRpKgW6F3gkOei1xT/HcGoXV+hSaZ0EdNRyNtHDqIdwQPw5hv2RJVv3n83pvG0BJvd/5eVin8RDJd9U8beGD+rzNr0b7tF1H6SdqJmS/qkgUstN26KKuZFZF98Zs9syKvFm1TYpj3u/kWHhFGHZGdQ0ccBrzUwqYwrSfhqxQ1cuGBeB1l77hakpkS9cFZQBtL9L5C4TKwWQdwd7yRfWG5myeZlOlQvsAsfTFxYg1tq1P6XwN/0EGcfvZE1r4HWfo6Mei8ek5whLysGZOwIPRMXAjWgXZgJRjIF29A2fXEW0jiwCLi413tSf2czXlRin0LYSF5uhEvJn5lEJ4d2wbhEWsfeY8TjiLvEo2F393mson48o/bl54ahEeWKieiGaTaydqDJp/35YPkHleZJ7oV+g39LzXFvtck9xOZG6CB6S/9xk2y0+RI9GzDjEhcRiQsCC19ne9yzRVzqT1NcvaOa7Uhlb5lW00hqidPU+l/OPEPEsa+h9/51OKfCCZxheY9kZTVBSUuTcrUkpSd1ci8qGVgtjLNxpK7RoNvyeA1aLmBJJEr8/LylpJcC7bXoKzlK9PSakB4DqH8X3fT98UqJG9/EN5Sqb2W+0jy5MqZAXoRlwNRHt6upP/s0qRMMazI+loBU5rDkF9avnTXHQy4HgNeSb5eEMqz0RhmXU20MSigXBIxifiYJH3Lwh9Ge/X/d/A62ED6pKiCXONht5WN+A3toKs0FrAfzAWtQRuXRQyruvVh4DPAGUS3mR2kAc8gfj75LYnr3jDICWeoSc0Ci026WrjkLyKLKR+CRDaHydJp3wHaMeXNjTy6DcBOmLUDpkmXPUkbeSh2EkqntjYjNjeZV7c2lDbDzCi9zoW20DRwiZamBsckC5nkbiYiG2kn+I/ntm5AeR3KW7nQKzrLHbKrfJIkPU27FdR/g/r/cOEyPdNb4lr6H4K9xDWe6NJDOmurCy9amtrHTOuZZyYkTLuf/POSEr190MRdeXl55/z8/NuI6r2XbnRO8xvRZht5xZRNZ5Ji9AfaIKDE/neB26hzEXX7Un6jC5epdr3ITaRGkpz99CGP7ziyfkb6X+B25dnx7BbwrEuD0mYYg5OnQaJ+gEH1JexpkxkYhFdukq45xEsTmjakrp4p6ZFKf+KvEe+e5Cd0RTeZsDl1VoEp1F8OAxeSV2x1dMnb0Gwz2XtSEb/XI2OkUoz6KxhEHX3c0em8wE6LYWbR36QPLMOVAZ/uwifhWgK3RsuP/MokbSUdUmfaYb8L2rvkOuxKUId6P3ThneQGlmVgfURn1NnkVURjsg0hWvrSbSUyL8i/lrQkvdilSOlKWDNwkSK2U33kwlsi6ZZLXajI9Y7isJsgDR7kmJRo59NN0pOm+xJ/42Xy33Th0hRz+yI1rex3LlM/MEsfSL9dStlC0jIr5ttHUb6eUmnlVkk18bddipQuw5oGnj+LuK68PgZyQ+uWu0aPgRmVpUxC+us5My0OI7OzdGgfRX3pr0Lv96o+lPXTzupXcSZBGUZWvnxmHd0xZNhBnWPjO82gM6NutrVLFUdWuDwYSJWOMyeRJ8tdm4SenOsMKKnpTPkU/wek5MF4KW1b6lups4pwI+mNUT36/Arp83TedOGuK6+GPthhRyLqtHVpUEo+oyC8RruFgetFzsUMYj1YyKDXazIuPHivd6Gu0Bbf2IXWvuyoutRbSztZ+AHLp4D0DbSXLpTi1hOlKocj8WfI+77ZbrrAfcGFBqlc3A1pe9BEIK2l+ZElpdu0fNXPhVq2xigxfz/9PuFCFVDro1KqDLvLPAGKv8SAnseE0JdsRPw8Qn3txoT62joqrU/yWxJJKedzzZOw1Q7Y9Q8OLjQzNNklJLfYBrEFlFh+pPyjJjJgC/UByZNkL3eh7ltov9+K8Q1RPZj2HOU/cLWkVJek/rWhZTWP+EaY1ZUvPJ/4Pr7yW4Q7XChZm2ygu6rpR2U6ARQxERmWM4nfGBUaU9ZIel141T8ByHDdZptM2MmhuD6AvCQFxlx9xGYmjXqQEthbC922n+VSoJQYFh18IT066WEi390UrkuB1pmvbHnY/UH3sjrTS50L7BCtl40jXC1Jh31vEyiINotUKCWGRRZ5kHC5kSKzRFrCegzXLvGn6PNqynRVdvDKLgN01A1XvZSZ6dIneWmvcqEHdjUM6Ui/mowOyvq730wzOGWHSdfJbFnj0iQ9UqGvte54pCDJ7U4QemlzvkjdmGKKKaaYYooppphiiimmmI46/Q/mkqgOUpboVQAAAABJRU5ErkJggg==";const i={class:"app-container"},c={class:"dashboard-header"},l={class:"logo-greeting"},d={class:"greeting"},u={key:0},h={key:1},p={class:"main-content"};function v(t,e,a,s,v,m){const g=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("header",c,[(0,o.Lk)("div",l,[e[0]||(e[0]=(0,o.Lk)("div",{class:"logo"},[(0,o.Lk)("img",{src:n,alt:"LMS Logo"})],-1)),(0,o.Lk)("div",d,[(0,o.Lk)("h1",null,"Welcome, "+(0,r.v_)(v.userName),1),m.showHeader?((0,o.uX)(),(0,o.CE)("p",u,"Glad to see you again, ready for another session?")):((0,o.uX)(),(0,o.CE)("p",h,"Great to have you back, ready to inspire and guide the next generation?"))])])]),(0,o.Lk)("main",p,[(0,o.bF)(g)])])}a(4114),a(8992),a(7550);var m=a(5537);const g={STUDENT:"http://purl.imsglobal.org/vocab/lis/v2/membership#Learner",TEACHER:"http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor",ADMIN:"http://purl.imsglobal.org/vocab/lis/v2/system/person#Administrator"};var k={name:"App",data(){return{userName:"User",roles:[]}},computed:{showHeader(){return!["/educator-dashboard","/lti/launch"].includes(this.$route.path)},isStudent(){return this.roles.some((t=>t===g.STUDENT))},isTeacher(){return this.roles.some((t=>t===g.TEACHER))},isAdmin(){return this.roles.some((t=>t===g.ADMIN))}},methods:{navigateTo(t){this.$router.push(t)},getCookie(t){const e=`; ${document.cookie}`,a=e.split(`; ${t}=`);return 2===a.length?a.pop().split(";").shift():null},fetchUserData(){const t=this.getCookie("auth_token");if(t)try{const e=(0,m.s)(t);console.log("Raw Token Data:",e);const a=e.roles||[];this.roles=JSON.parse(JSON.stringify(a)),console.log("Processed Roles:",this.roles),console.log("Is Student:",this.isStudent),this.userName=e.name||"Unknown User",this.autoRedirect()}catch(e){console.error("Token Error:",e),this.$router.push("/login")}else this.$router.push("/login")},autoRedirect(){const t=this.$route.path;console.log("Current Path:",t),this.isAdmin&&!t.includes("admin")?(console.log("Redirecting to admin dashboard"),this.$router.replace("/admin-dashboard")):this.isTeacher&&!t.includes("educator")?(console.log("Redirecting to educator dashboard"),this.$router.replace("/educator-dashboard")):this.isStudent&&!t.includes("student")?(console.log("Redirecting to student dashboard"),this.$router.replace("/overall")):console.warn("No matching role, staying on current page.")}},created(){this.fetchUserData()}},A=a(6262);const y=(0,A.A)(k,[["render",v]]);var f=y,C=a(5220);const b={class:"overall-container"},E={class:"nav-container"},L={key:0,class:"nav-buttons"},I={class:"dashboard"},w={class:"grid-container"},D={class:"grid-item time-spent-daily"},x={class:"grid-item learning-effectiveness"},R={class:"grid-item daily-streak"},T={class:"grid-item recommendation-box"},S={class:"grid-item course-completion-chart"};function Q(t,e,a,s,r,n){const i=(0,o.g2)("TimeSpentDaily"),c=(0,o.g2)("LearningEffectivenessChart"),l=(0,o.g2)("DailyStreak"),d=(0,o.g2)("RecommendationBox"),u=(0,o.g2)("CourseCompletionChart");return(0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("div",E,[r.showHeader?((0,o.uX)(),(0,o.CE)("nav",L,[(0,o.Lk)("button",{onClick:e[0]||(e[0]=t=>n.navigateTo("/overall"))},"Overall"),(0,o.Lk)("button",{onClick:e[1]||(e[1]=t=>n.navigateTo("/performance"))},"Performance"),(0,o.Lk)("button",{onClick:e[2]||(e[2]=t=>n.navigateTo("/engagement"))},"Engagement")])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",I,[(0,o.Lk)("div",w,[(0,o.Lk)("div",D,[(0,o.bF)(i,{data:r.timeSpentDailyData},null,8,["data"])]),(0,o.Lk)("div",x,[(0,o.bF)(c,{data:r.learningEffectivenessData},null,8,["data"])]),(0,o.Lk)("div",R,[(0,o.bF)(l,{streak:r.dailyStreak},null,8,["streak"])]),(0,o.Lk)("div",T,[(0,o.bF)(d)]),(0,o.Lk)("div",S,[(0,o.bF)(u,{courses:r.coursesData},null,8,["courses"])])])])])}const U={class:"time-spent-daily-container"},X={key:0,class:"time-spent-table"};function F(t,e,a,n,i,c){const l=(0,o.g2)("apexchart");return(0,o.uX)(),(0,o.CE)("div",U,[e[2]||(e[2]=(0,o.Lk)("h3",null,"Time Spent on Activities (Daily)",-1)),e[3]||(e[3]=(0,o.Lk)("p",null,"in Minutes",-1)),(0,o.bF)(l,{type:"bar",options:c.chartOptions,series:c.chartData,height:"350"},null,8,["options","series"]),(0,o.Lk)("button",{onClick:e[0]||(e[0]=(0,s.D$)(((...t)=>c.toggleTable&&c.toggleTable(...t)),["prevent"])),class:"view-more-button"},(0,r.v_)(i.showTable?"View Less":"View More"),1),i.showTable?((0,o.uX)(),(0,o.CE)("table",X,[e[1]||(e[1]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Day"),(0,o.Lk)("th",null,"Time Spent (minutes)")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.data,(t=>((0,o.uX)(),(0,o.CE)("tr",{key:t.day},[(0,o.Lk)("td",null,(0,r.v_)(t.day),1),(0,o.Lk)("td",null,(0,r.v_)(t.minutes),1)])))),128))])])):(0,o.Q3)("",!0)])}a(1454),a(8872);var N=a(5564),O={name:"TimeSpentDaily",components:{apexchart:N.A},props:{data:{type:Array,required:!0,default:()=>[{day:"Monday",minutes:120},{day:"Tuesday",minutes:90},{day:"Wednesday",minutes:60},{day:"Thursday",minutes:150},{day:"Friday",minutes:200},{day:"Saturday",minutes:180},{day:"Sunday",minutes:100}]}},data(){return{showTable:!1}},computed:{chartData(){return[{name:"Time Spent",data:this.data.map((t=>t.minutes))}]},chartOptions(){return{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded",colors:{ranges:[{from:0,to:1/0,color:"#b0b0b0"}]}}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:this.data.map((t=>t.day))},yaxis:{title:{text:"Minutes"}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return`${t} minutes`}}},annotations:{yaxis:[{y:this.averageTimeSpent,borderColor:"#9013fe",label:{borderColor:"#9013fe",style:{color:"#fff",background:"#9013fe"},text:this.averageTimeSpent.toFixed(2),hover:{text:"Average"}}}]}}},averageTimeSpent(){const t=this.data.reduce(((t,e)=>t+e.minutes),0);return t/this.data.length}},methods:{toggleTable(t){t.preventDefault(),this.showTable=!this.showTable}}};const P=(0,A.A)(O,[["render",F],["__scopeId","data-v-75b00742"]]);var B=P;const _={class:"course-completion-container"},M={class:"course-list"},z=["onClick"],K={class:"progress-bar"},W={class:"toggle-button"},j={key:0,class:"subcourse-list"},H=["onClick"],Z={class:"progress-bar"},G={class:"toggle-button"},J={key:0,class:"assessment-list"};function V(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",_,[e[1]||(e[1]=(0,o.Lk)("h3",null,"Course Completion",-1)),(0,o.Lk)("ul",M,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.localCourses,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id},[(0,o.Lk)("div",{onClick:e=>i.toggleCourse(t.id),class:"course-header"},[(0,o.Lk)("span",null,(0,r.v_)(t.name),1),(0,o.Lk)("div",K,[(0,o.Lk)("div",{class:"progress",style:(0,r.Tr)({width:t.progress+"%"})},null,4)]),(0,o.Lk)("span",null,(0,r.v_)(t.progress)+"%",1),(0,o.Lk)("span",null,(0,r.v_)(t.completedAssessments)+"/"+(0,r.v_)(t.totalAssessments),1),(0,o.Lk)("button",W,(0,r.v_)(t.open?"▼":"▶"),1)],8,z),t.open?((0,o.uX)(),(0,o.CE)("ul",j,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.subcourses,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("div",{onClick:a=>i.toggleSubcourse(t.id,e.id),class:"subcourse-header"},[(0,o.Lk)("span",null,(0,r.v_)(e.name),1),(0,o.Lk)("div",Z,[(0,o.Lk)("div",{class:"progress",style:(0,r.Tr)({width:e.progress+"%"})},null,4)]),(0,o.Lk)("span",null,(0,r.v_)(e.progress)+"%",1),(0,o.Lk)("span",null,(0,r.v_)(e.completedAssessments)+"/"+(0,r.v_)(e.totalAssessments),1),(0,o.Lk)("button",G,(0,r.v_)(e.open?"▼":"▶"),1)],8,H),e.open?((0,o.uX)(),(0,o.CE)("ul",J,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.assessments,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id},[(0,o.Lk)("span",null,(0,r.v_)(t.name),1),(0,o.Lk)("span",{class:(0,r.C4)(t.status)},(0,r.v_)(t.status),3)])))),128))])):(0,o.Q3)("",!0)])))),128))])):(0,o.Q3)("",!0),e[0]||(e[0]=(0,o.Lk)("hr",{class:"divider"},null,-1))])))),128))])])}a(2577);var Y={name:"CourseCompletionChart",props:{courses:{type:Array,required:!0,default:()=>[]}},data(){return{localCourses:[...this.courses]}},methods:{async fetchCourses(){try{const t=await fetch("/api/courses");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();this.localCourses=e}catch(t){console.error("Error fetching courses:",t)}},toggleCourse(t){const e=this.localCourses.find((e=>e.id===t));e.open=!e.open},toggleSubcourse(t,e){const a=this.localCourses.find((e=>e.id===t)),s=a.subcourses.find((t=>t.id===e));s.open=!s.open}},created(){this.fetchCourses()}};const q=(0,A.A)(Y,[["render",V],["__scopeId","data-v-9876637a"]]);var $=q;const tt={class:"streak-container"},et={class:"streak"},at={class:"streak-visual"},st={class:"day-label"};function ot(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",tt,[e[1]||(e[1]=(0,o.Lk)("h3",null,"Daily Streak",-1)),(0,o.Lk)("p",null,[e[0]||(e[0]=(0,o.eW)(" You have been active for ")),(0,o.Lk)("span",et,(0,r.v_)(a.streak),1),(0,o.eW)(" "+(0,r.v_)(1===a.streak?"day":"days")+" in a row! ",1)]),(0,o.Lk)("div",at,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.daysOfWeek,((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:(0,r.C4)(["streak-day",{active:a.activeDays.includes(t)}])},[(0,o.Lk)("span",st,(0,r.v_)(t),1)],2)))),128))])])}var rt={name:"DailyStreak",props:{streak:{type:Number,required:!0},activeDays:{type:Array,required:!0,default:()=>["Mon","Tue"]}},computed:{daysOfWeek(){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}}};const nt=(0,A.A)(rt,[["render",ot],["__scopeId","data-v-4b8d195c"]]);var it=nt;const ct={style:{width:"100%",height:"100%",display:"flex","flex-direction":"column","justify-content":"space-between"}},lt={style:{flex:"1"}},dt={ref:"scatterChart",style:{width:"100%",height:"100%"}};function ut(t,e,a,s,r,n){return(0,o.uX)(),(0,o.CE)("div",ct,[(0,o.Lk)("div",lt,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Learning Effectiveness",-1)),e[1]||(e[1]=(0,o.Lk)("p",null,"Assessment points vs. Additional Time Spent on Activity",-1)),(0,o.Lk)("canvas",dt,null,512)]),e[2]||(e[2]=(0,o.Fv)('<div class="manual-legend" style="display:flex;justify-content:center;margin-top:10px;" data-v-01accaa1><div style="display:flex;align-items:center;margin-right:20px;" data-v-01accaa1><div style="width:15px;height:15px;background-color:orange;margin-right:5px;" data-v-01accaa1></div><span class="legend-text" data-v-01accaa1>Improvement Potential</span></div><div style="display:flex;align-items:center;" data-v-01accaa1><div style="width:15px;height:15px;background-color:green;margin-right:5px;" data-v-01accaa1></div><span class="legend-text" data-v-01accaa1>Best Practice</span></div></div>',1))])}var ht=a(953),pt=a(2022);pt.t1.register(...pt.$L);var vt=(0,o.pM)({name:"ScatterPlot",props:{data:{type:Array,required:!0}},setup(t){const e=(0,ht.KR)(null);return(0,o.sV)((()=>{const s=e.value?.getContext("2d");s?new pt.t1(s,{type:"scatter",data:{datasets:[{label:"Scatter Data",data:t.data,backgroundColor:"rgba(75, 192, 192, 1)"}]},options:{plugins:{legend:{display:!1}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Time Spent",font:{size:12,weight:"bold"}},min:0,max:120,stepSize:20},y:{title:{display:!0,text:"Assessment Points",font:{size:12,weight:"bold"}},min:0,max:100,stepSize:20}},legend:{display:!1}},plugins:[{id:"backgroundImage",beforeDraw:t=>{if(t?.chartArea){const e=t.ctx,{top:s,left:o,width:r,height:n}=t.chartArea,i=new Image;i.src=a(7762),i.onload=()=>{e.drawImage(i,o,s,r,n)}}}}]}):console.error("Failed to get canvas context.")})),{scatterChart:e}}});const mt=(0,A.A)(vt,[["render",ut],["__scopeId","data-v-01accaa1"]]);var gt=mt;const kt={class:"recommendation-box"};function At(t,e,a,s,r,n){return(0,o.uX)(),(0,o.CE)("div",kt,e[0]||(e[0]=[(0,o.Lk)("p",null,"Lorem ipsum dolor sit amet consectetur. Pellentesque quam est sed et nunc tortor. Eget pellentesque elementum convallis pharetra dui euismod odio praesent. Sem nisl sollicitudin nisi tincidunt nulla varius. ",-1)]))}var yt={name:"RecommendationBox",props:{message:{type:String,default:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}}};const ft=(0,A.A)(yt,[["render",At],["__scopeId","data-v-2d1e3b12"]]);var Ct=ft,bt={name:"OverallView",components:{TimeSpentDaily:B,CourseCompletionChart:$,DailyStreak:it,LearningEffectivenessChart:gt,RecommendationBox:Ct},data(){return{showHeader:!0,timeSpentDailyData:[{day:"Monday",minutes:120},{day:"Tuesday",minutes:90},{day:"Wednesday",minutes:60},{day:"Thursday",minutes:150},{day:"Friday",minutes:200},{day:"Saturday",minutes:180},{day:"Sunday",minutes:100}],coursesData:[{id:1,name:"Main Course 1",progress:50,completedAssessments:5,totalAssessments:10,open:!1,subcourses:[{id:1,name:"Subcourse 1",progress:60,completedAssessments:3,totalAssessments:5,open:!1,assessments:[{id:1,name:"Assessment 1",status:"passed"},{id:2,name:"Assessment 2",status:"not passed"}]},{id:2,name:"Subcourse 2",progress:40,completedAssessments:2,totalAssessments:5,open:!1,assessments:[{id:3,name:"Assessment 3",status:"passed"},{id:4,name:"Assessment 4",status:"not passed"}]}]}],dailyStreak:3,learningEffectivenessData:[{x:10,y:20},{x:20,y:30},{x:30,y:10},{x:40,y:50}]}},methods:{navigateTo(t){this.$router.push(t)}}};const Et=(0,A.A)(bt,[["render",Q],["__scopeId","data-v-db35fd08"]]);var Lt=Et;const It={class:"performance-container"},wt={class:"nav-container"},Dt={key:0,class:"nav-buttons"},xt={class:"dashboard"},Rt={class:"grid-container"},Tt={class:"grid-item assessment-performance-chart"},St={class:"grid-item daily-streak"},Qt={class:"grid-item average-attempts"},Ut={class:"grid-item pass-rate-chart"},Xt={class:"grid-item course-completion-chart"},Ft={class:"grid-item assessment-attempts-chart"};function Nt(t,e,a,s,r,n){const i=(0,o.g2)("AssessmentPerformanceChart"),c=(0,o.g2)("DailyStreak"),l=(0,o.g2)("AttemptsUntilPassedCard"),d=(0,o.g2)("PassRateChart"),u=(0,o.g2)("CourseCompletionChart"),h=(0,o.g2)("AssessmentAttempts");return(0,o.uX)(),(0,o.CE)("div",It,[(0,o.Lk)("div",wt,[r.showHeader?((0,o.uX)(),(0,o.CE)("nav",Dt,[(0,o.Lk)("button",{onClick:e[0]||(e[0]=t=>n.navigateTo("/overall"))},"Overall"),(0,o.Lk)("button",{onClick:e[1]||(e[1]=t=>n.navigateTo("/performance"))},"Performance"),(0,o.Lk)("button",{onClick:e[2]||(e[2]=t=>n.navigateTo("/engagement"))},"Engagement")])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",xt,[(0,o.Lk)("div",Rt,[(0,o.Lk)("div",Tt,[(0,o.bF)(i)]),(0,o.Lk)("div",St,[(0,o.bF)(c,{streak:r.dailyStreak},null,8,["streak"])]),(0,o.Lk)("div",Qt,[(0,o.bF)(l,{data:r.attemptsUntilPassed},null,8,["data"])]),(0,o.Lk)("div",Ut,[(0,o.bF)(d,{data:t.passRateData},null,8,["data"])]),(0,o.Lk)("div",Xt,[(0,o.bF)(u,{courses:r.coursesData},null,8,["courses"])]),(0,o.Lk)("div",Ft,[(0,o.bF)(h,{data:t.assessmentAttemptsData},null,8,["data"])])])])])}const Ot={class:"pass-rate-container"};function Pt(t,e,a,s,r,n){const i=(0,o.g2)("apexchart");return(0,o.uX)(),(0,o.CE)("div",Ot,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Pass Rate",-1)),(0,o.bF)(i,{type:"pie",options:r.chartOptions,series:r.chartData,height:"350"},null,8,["options","series"])])}var Bt={name:"PassRate",components:{apexchart:N.A},data(){return{chartData:[0,0,0],chartOptions:{chart:{type:"pie"},labels:["Not Passed","Open","Passed"],colors:["#c40d1e","#888888","#49cb40"],legend:{position:"bottom"}}}},methods:{getCookie(t){const e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?e[2]:null},async fetchPassRate(){const t=this.getCookie("auth_token");if(t)try{const e=await fetch("http://localhost:8000/passRate/learner",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const a=await e.json();console.log("API Response:",a);const s=a.passed||0,o=a.failed||0,r=a.open||0;this.chartData=[o,r,s]}catch(e){console.error("Error fetching pass rate data:",e)}else console.error("No authentication token found.")}},mounted(){this.fetchPassRate()}};const _t=(0,A.A)(Bt,[["render",Pt],["__scopeId","data-v-49a23f5d"]]);var Mt=_t;const zt={class:"last-assessment-attempts"},Kt=["onClick"],Wt=["onClick"],jt={key:0,class:"time-spent-table"};function Ht(t,e,a,n,i,c){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",zt,[e[1]||(e[1]=(0,o.Lk)("h3",null,"Assessment Attempts",-1)),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.attempts,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id,onClick:e=>c.viewMore(t.id)},[(0,o.Lk)("h3",null,(0,r.v_)(t.subcourse),1),(0,o.Lk)("p",null,"Points: "+(0,r.v_)(t.points),1),(0,o.Lk)("p",{class:(0,r.C4)({passed:"Passed"===t.achieved,failed:"Failed"===t.achieved})}," Achieved: "+(0,r.v_)(t.achieved),3),(0,o.Lk)("button",{onClick:(0,s.D$)((e=>c.viewMore(t.id)),["stop"])},"View More",8,Wt)],8,Kt)))),128))])]),(0,o.Lk)("button",{onClick:e[0]||(e[0]=(0,s.D$)(((...e)=>t.toggleTable&&t.toggleTable(...e)),["prevent"])),class:"view-more-button"},(0,r.v_)(t.showTable?"View Less":"View More"),1),t.showTable?((0,o.uX)(),(0,o.CE)("table",jt,[e[2]||(e[2]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Activity"),(0,o.Lk)("th",null,"Time Spent (minutes)"),(0,o.Lk)("th",null,"Compared to Last Week (%)")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.data,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.activity},[(0,o.Lk)("td",null,(0,r.v_)(e.activity),1),(0,o.Lk)("td",null,(0,r.v_)(e.current),1),(0,o.Lk)("td",{class:(0,r.C4)(t.getComparisonClass(e))},(0,r.v_)(t.getComparison(e)),3)])))),128))])])):(0,o.Q3)("",!0)],64)}var Zt={name:"LastAssessmentAttempts",data(){return{attempts:[{id:1,subcourse:"Auf Bäume klettern",points:85,achieved:"Passed"},{id:2,subcourse:"Bäume schützen",points:90,achieved:"Passed"},{id:3,subcourse:"Bäume auskappen",points:45,achieved:"Failed"}]}},methods:{viewMore(t){console.log("View more details for attempt ID:",t)}}};const Gt=(0,A.A)(Zt,[["render",Ht],["__scopeId","data-v-0970bfa4"]]);var Jt=Gt;const Vt={class:"attempts-until-passed-card"},Yt={class:"attempts-number"};function qt(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",Vt,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Average Attempts Until Passed",-1)),(0,o.Lk)("p",Yt,"ø "+(0,r.v_)(n.averageAttempts),1)])}a(3949);var $t={name:"AttemptsUntilPassedCard",data(){return{averageAttempts:0}},methods:{getCookie(t){const e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?e[2]:null},async fetchAttemptsUntilPassed(){const t=this.getCookie("auth_token");if(t)try{const e=await fetch("http://localhost:8000/attemptsUntilPassed",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)return void console.error("Error fetching attempts until passed:",e.statusText);const a=await e.json();console.log("Received Attempts Until Passed Data:",a);const s=a.attemptsUntilPassed||{},o=15;let r=0;Object.values(s).forEach((t=>{r+=t+1}));const n=o-Object.keys(s).length;r+=n,this.averageAttempts=(r/o).toFixed(2)}catch(e){console.error("Error fetching attempts until passed:",e)}else console.error("No authentication token found.")}},mounted(){this.fetchAttemptsUntilPassed()}};const te=(0,A.A)($t,[["render",qt],["__scopeId","data-v-2bb0f0e0"]]);var ee=te;const ae={class:"assessment-performance-chart"};function se(t,e,a,s,r,n){const i=(0,o.g2)("LineChart");return(0,o.uX)(),(0,o.CE)("div",ae,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Assessment Performance Over Time",-1)),(0,o.bF)(i,{data:r.chartData,options:r.chartOptions},null,8,["data","options"])])}var oe=a(6908);pt.t1.register(pt.hE,pt.m_,pt.s$,pt.PP,pt.kc,pt.FN,pt.No);var re={name:"AssessmentPointsChart",components:{LineChart:oe.N1},data(){const t=new Date,e=t.getDate(),a=Math.min(e,20),s=Array.from({length:a},((t,e)=>e+1)),o=s.map((()=>Math.floor(100*Math.random()))),r=o.reduce(((t,e)=>t+e),0)/o.length,n=Array(a).fill(r);return{chartData:{labels:s,datasets:[{label:"Punkte erreicht",data:o,borderColor:"#42A5F5",backgroundColor:"rgba(66, 165, 245, 0.2)",fill:!0,tension:.4},{label:"Durchschnitt",data:n,borderColor:"red",borderWidth:2,borderDash:[5,5],pointRadius:0,fill:!1}]},chartOptions:{responsive:!0,maintainAspectRatio:!0,plugins:{tooltip:{callbacks:{label:function(t){return`Punkte: ${t.raw}`}}},legend:{display:!0,position:"bottom",labels:{color:"#000",font:{size:12}}}},scales:{x:{title:{display:!0,text:"Tage im Monat"},ticks:{autoSkip:!0,maxTicksLimit:10}},y:{title:{display:!0,text:"Assessment Punkte"},beginAtZero:!0,min:0,max:100}}}}}};const ne=(0,A.A)(re,[["render",se],["__scopeId","data-v-7700d9ad"]]);var ie=ne,ce={name:"PerformanceView",components:{CourseCompletionChart:$,DailyStreak:it,PassRateChart:Mt,AssessmentAttempts:Jt,AttemptsUntilPassedCard:ee,AssessmentPerformanceChart:ie},data(){return{showHeader:!0,dailyStreak:3,attemptsUntilPassed:5,coursesData:[{id:1,name:"Main Course 1",progress:50,completedAssessments:5,totalAssessments:10,open:!1,subcourses:[{id:1,name:"Subcourse 1",progress:60,completedAssessments:3,totalAssessments:5,open:!1,assessments:[{id:1,name:"Assessment 1",status:"passed"},{id:2,name:"Assessment 2",status:"not passed"}]}]}]}},methods:{navigateTo(t){this.$router.push(t)}}};const le=(0,A.A)(ce,[["render",Nt],["__scopeId","data-v-25c3bfbc"]]);var de=le;const ue={class:"engagement-container"},he={class:"nav-container"},pe={key:0,class:"nav-buttons"},ve={class:"dashboard"},me={class:"grid-container"},ge={class:"grid-item active-hours"},ke={class:"grid-item activity-engagement"},Ae={class:"grid-item daily-streak"},ye={class:"grid-item activity-revisits"},fe={class:"grid-item time-spent"},Ce={class:"grid-item last-rating"};function be(t,e,a,s,r,n){const i=(0,o.g2)("HeatmapChart"),c=(0,o.g2)("ActivityEngagement"),l=(0,o.g2)("DailyStreak"),d=(0,o.g2)("ActivityRevisits"),u=(0,o.g2)("TimeSpent"),h=(0,o.g2)("LastRating");return(0,o.uX)(),(0,o.CE)("div",ue,[(0,o.Lk)("div",he,[r.showHeader?((0,o.uX)(),(0,o.CE)("nav",pe,[(0,o.Lk)("button",{onClick:e[0]||(e[0]=t=>n.navigateTo("/overall"))},"Overall"),(0,o.Lk)("button",{onClick:e[1]||(e[1]=t=>n.navigateTo("/performance"))},"Performance"),(0,o.Lk)("button",{onClick:e[2]||(e[2]=t=>n.navigateTo("/engagement"))},"Engagement")])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ve,[(0,o.Lk)("div",me,[(0,o.Lk)("div",ge,[(0,o.bF)(i)]),(0,o.Lk)("div",ke,[(0,o.bF)(c,{data:r.activityEngagementData},null,8,["data"])]),(0,o.Lk)("div",Ae,[(0,o.bF)(l,{streak:r.dailyStreak},null,8,["streak"])]),(0,o.Lk)("div",ye,[(0,o.bF)(d,{data:r.activityRevisitsData},null,8,["data"])]),(0,o.Lk)("div",fe,[(0,o.bF)(u,{data:r.timeSpentData,onButtonClick:n.handleTimeSpentClick},null,8,["data","onButtonClick"])]),(0,o.Lk)("div",Ce,[(0,o.bF)(h,{rating:r.lastRatingData},null,8,["rating"])])])])])}const Ee={class:"heatmap-container"};function Le(t,e,a,s,r,n){const i=(0,o.g2)("apexchart");return(0,o.uX)(),(0,o.CE)("div",Ee,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Active Hours",-1)),(0,o.bF)(i,{type:"heatmap",options:r.chartOptions,series:r.chartData,height:"350"},null,8,["options","series"])])}var Ie={name:"HeatmapChart",components:{apexchart:N.A},data(){return{chartData:[],chartOptions:{chart:{height:350,type:"heatmap"},dataLabels:{enabled:!1},plotOptions:{heatmap:{colorScale:{ranges:[{from:0,to:0,color:"#f8e8cf",name:"No Activity"},{from:1,to:59,color:"#F8C373",name:"< 1 Hour"},{from:60,to:120,color:"#FF6C00",name:"1-2 Hours"},{from:121,to:180,color:"#C40D1E",name:"2-3 Hours"},{from:181,to:240,color:"#76020C",name:"3-4 Hours"}]}}},xaxis:{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],position:"top",labels:{style:{colors:"#000",fontSize:"12px"}}},yaxis:{title:{text:"Time of Day"}},tooltip:{y:{formatter:function(t){return t>0?`${t} minutes`:"No Activity"}}},legend:{show:!0,position:"bottom",horizontalAlign:"center",labels:{colors:"#000"},markers:{size:8}}}}},methods:{getCookie(t){const e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?e[2]:null},async fetchActiveHours(){const t=this.getCookie("auth_token");if(t)try{const e=await fetch("http://localhost:8000/activeHoursThisWeek",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)return void console.error("Error fetching data:",e.statusText);const a=await e.json();console.log("Received Data:",a);let s={"0:00-4:00":[0,0,0,0,0,0,0],"4:00-8:00":[0,0,0,0,0,0,0],"8:00-12:00":[0,0,0,0,0,0,0],"12:00-16:00":[0,0,0,0,0,0,0],"16:00-20:00":[0,0,0,0,0,0,0],"20:00-24:00":[0,0,0,0,0,0,0]};a.activeHours.forEach(((t,e)=>{t.hours.forEach((t=>{const a=this.mapHourToInterval(t.hour);a&&(s[a][e]+=this.roundToNearest(t.timeSpent,10))}))})),this.chartData=Object.entries(s).map((([t,e])=>({name:t,data:e})))}catch(e){console.error("Error fetching active hours data:",e)}else console.error("No authentication token found.")},roundToNearest(t,e=10){return Math.round(t/e)*e},mapHourToInterval(t){return t>=0&&t<4?"0:00-4:00":t>=4&&t<8?"4:00-8:00":t>=8&&t<12?"8:00-12:00":t>=12&&t<16?"12:00-16:00":t>=16&&t<20?"16:00-20:00":t>=20&&t<24?"20:00-24:00":null}},mounted(){this.fetchActiveHours()}};const we=(0,A.A)(Ie,[["render",Le],["__scopeId","data-v-7515313f"]]);var De=we;const xe={class:"activity-engagement-container"};function Re(t,e,a,s,r,n){const i=(0,o.g2)("apexchart");return(0,o.uX)(),(0,o.CE)("div",xe,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Activity Engagement",-1)),(0,o.bF)(i,{type:"pie",options:r.chartOptions,series:r.chartData,height:"350"},null,8,["options","series"])])}var Te={name:"ActivityEngagement",components:{apexchart:N.A},data(){return{chartData:[0,0,0],totalActivities:0,chartOptions:{chart:{type:"pie"},labels:["Not Started","In Progress","Completed"],colors:["#C40D1E","#FF6C00","#49CB40"],legend:{position:"bottom"}}}},methods:{getCookie(t){const e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?e[2]:null},async fetchTotalActivities(){const t=this.getCookie("auth_token");if(t)try{const e=await fetch("http://localhost:8000/assessmentAttempts",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)return void console.error("Error fetching total activities:",e.statusText);const a=await e.json();this.totalActivities=Object.keys(a.activitiesScored||{}).length,console.log("Total Activities:",this.totalActivities),this.fetchActivityEngagement()}catch(e){console.error("Error fetching total activities:",e)}else console.error("No authentication token found.")},async fetchActivityEngagement(){const t=this.getCookie("auth_token");if(t)try{const e=await fetch("http://localhost:8000/activityEngagement",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)return void console.error("Error fetching activity engagement data:",e.statusText);const a=await e.json();if(console.log("API Response:",a),!a.verbsCount)return void console.error("Invalid data structure: verbsCount not found");let s=0,o=0,r=0;const n=a.verbsCount||{},i=Object.keys(n);console.log("Received Activities:",i),i.forEach((t=>{const e=n[t],a=e.initialized||0,i=e.completed||0;0===a?s++:a>0&&0===i?o++:a>0&&i>0&&r++})),s+=Math.max(0,this.totalActivities-i.length),console.log("Calculated Values:",{notStarted:s,inProgress:o,completed:r}),this.chartData=[s,o,r]}catch(e){console.error("Error fetching activity engagement data:",e)}else console.error("No authentication token found.")}},mounted(){this.fetchTotalActivities()}};const Se=(0,A.A)(Te,[["render",Re],["__scopeId","data-v-132261a3"]]);var Qe=Se;const Ue={class:"activity-revisits-container"},Xe={class:"activity-revisits-content"},Fe={class:"activity-list"},Ne={class:"activity-info"},Oe={class:"activity-subtitle"},Pe={class:"activity-count"};function Be(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",Ue,[e[1]||(e[1]=(0,o.Lk)("h3",null,"Activity Revisits",-1)),(0,o.Lk)("div",Xe,[(0,o.Lk)("ol",Fe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.visibleData,((t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:t.course,class:"activity-item"},[(0,o.Lk)("div",Ne,[(0,o.Lk)("span",null,(0,r.v_)(e+1)+". "+(0,r.v_)(t.course),1),(0,o.Lk)("div",Oe,(0,r.v_)(t.change),1)]),(0,o.Lk)("div",Pe,(0,r.v_)(t.count)+"x",1)])))),128))])]),(0,o.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggleView&&i.toggleView(...t)),class:"view-more-button"},(0,r.v_)(n.showAll?"View Less":"View All"),1)])}var _e={name:"ActivityRevisits",data(){return{activities:[],showAll:!1}},computed:{visibleData(){return this.showAll?this.activities:this.activities.slice(0,3)}},methods:{async fetchActivityRevisits(){try{const t=await fetch("http://localhost:8000/activityRevisits");if(!t.ok)throw new Error(`Failed to fetch data: ${t.status}`);const e=await t.json();console.log("Fetched Data:",e),this.activities=e.activitiesVisits.map((t=>({course:this.extractCourseName(t.activityId),count:t.visits,change:"+X in the last 30 days"})))}catch(t){console.error("Error fetching activity revisits:",t)}},extractCourseName(t){return decodeURIComponent(t.split("/").pop().replace(/_/g," "))},toggleView(){this.showAll=!this.showAll}},mounted(){this.fetchActivityRevisits()}};const Me=(0,A.A)(_e,[["render",Be],["__scopeId","data-v-39181cf0"]]);var ze=Me;const Ke={class:"time-spent-container"},We={class:"chart-wrapper"},je={key:0,class:"time-spent-table"};function He(t,e,a,s,n,i){const c=(0,o.g2)("apexchart");return(0,o.uX)(),(0,o.CE)("div",Ke,[e[2]||(e[2]=(0,o.Lk)("h3",null,"Time Spent on Activities",-1)),e[3]||(e[3]=(0,o.Lk)("p",null,"in Minutes",-1)),(0,o.Lk)("div",We,[(0,o.bF)(c,{type:"bar",options:i.chartOptions,series:i.chartData},null,8,["options","series"])]),(0,o.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggleTable&&i.toggleTable(...t)),class:"view-more-button"},(0,r.v_)(n.showTable?"View Less":"View More"),1),n.showTable?((0,o.uX)(),(0,o.CE)("table",je,[e[1]||(e[1]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Activity"),(0,o.Lk)("th",null,"Time Spent (minutes)")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.activities,(t=>((0,o.uX)(),(0,o.CE)("tr",{key:t.activityId},[(0,o.Lk)("td",null,(0,r.v_)(i.getActivityName(t.activityId)),1),(0,o.Lk)("td",null,(0,r.v_)(i.formatDuration(t.duration)),1)])))),128))])])):(0,o.Q3)("",!0)])}var Ze={name:"TimeSpent",components:{apexchart:N.A},data(){return{showTable:!1,activities:[],totalTime:0}},computed:{chartData(){return[{name:"Time Spent",data:this.activities.map((t=>t.duration))}]},chartOptions(){return{chart:{type:"bar",height:"100%",width:"100%"},plotOptions:{bar:{horizontal:!1,columnWidth:"80%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:this.activities.map((t=>this.getShortActivityName(t.activityId)))},yaxis:{title:{text:"Minutes"}},fill:{opacity:1},tooltip:{y:{formatter:t=>this.formatDuration(t)+" minutes"}},colors:["#4CAF50"]}}},methods:{toggleTable(){this.showTable=!this.showTable},getActivityName(t){return t.split("/").pop().replace(/_/g," ")},getShortActivityName(t){const e=this.getActivityName(t);return e.length>10?e.substring(0,10)+"...":e},formatDuration(t){return t%1===0?t.toFixed(0):t.toFixed(2)},async fetchData(){try{const t=document.cookie.match(/(^| )auth_token=([^;]+)/)?.[2];if(!t)return void console.error("Authentication token not found.");const e=await fetch("http://localhost:8000/timeSpentOnActivities/learner",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const a=await e.json();this.activities=a.activities,this.totalTime=a.totalTime}catch(t){console.error("Error fetching data:",t)}}},mounted(){this.fetchData()}};const Ge=(0,A.A)(Ze,[["render",He],["__scopeId","data-v-69fe1ae0"]]);var Je=Ge;const Ve={class:"last-rating-container"},Ye={key:0},qe={class:"stars"},$e={class:"rating-content"},ta={key:1};function ea(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",Ve,[e[3]||(e[3]=(0,o.Lk)("h3",null,"Your Last Rating",-1)),n.lastRating?((0,o.uX)(),(0,o.CE)("div",Ye,[(0,o.Lk)("div",qe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.fullStars,(t=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"star full"},"★")))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.emptyStars,(t=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"star empty"},"☆")))),128))]),(0,o.Lk)("p",null,(0,r.v_)(n.lastRating.score)+" out of 5",1),(0,o.Lk)("div",$e,[(0,o.Lk)("p",null,[e[0]||(e[0]=(0,o.Lk)("strong",null,"Activity:",-1)),(0,o.eW)(" "+(0,r.v_)(i.getActivityName(n.lastRating.activity)),1)]),(0,o.Lk)("p",null,[e[1]||(e[1]=(0,o.Lk)("strong",null,"Date:",-1)),(0,o.eW)(" "+(0,r.v_)(i.formatDate(n.lastRating.timestamp)),1)])])])):((0,o.uX)(),(0,o.CE)("div",ta,e[2]||(e[2]=[(0,o.Lk)("p",null,"No ratings available.",-1)])))])}var aa={name:"LastRating",data(){return{lastRating:null}},computed:{fullStars(){return this.lastRating?Math.floor(this.lastRating.score):0},emptyStars(){return this.lastRating?5-Math.floor(this.lastRating.score):5}},methods:{getCookie(t){const e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?e[2]:null},async fetchLastRatings(){const t=this.getCookie("auth_token");if(t)try{const e=await fetch("http://localhost:8000/activityRatings/learner",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const a=await e.json(),s=a.lastRatings;let o=null;for(const t in s){const e=s[t];(!o||new Date(e.timestamp)>new Date(o.timestamp))&&(o={activity:t,score:e.score,timestamp:e.timestamp})}this.lastRating=o}catch(e){console.error("Error fetching last ratings:",e)}else console.error("No authentication token found.")},getActivityName(t){return t.split("/").pop().replace(/_/g," ")},formatDate(t){const e=new Date(t);return e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}},mounted(){this.fetchLastRatings()}};const sa=(0,A.A)(aa,[["render",ea],["__scopeId","data-v-165e9422"]]);var oa=sa,ra={name:"EngagementView",components:{HeatmapChart:De,ActivityEngagement:Qe,ActivityRevisits:ze,TimeSpent:Je,LastRating:oa,DailyStreak:it},data(){return{showHeader:!0,activityEngagementData:[],activityRevisitsData:[{course:"Course 1",count:15,change:"+10 in the last 30 days"},{course:"Course 2",count:13,change:"+13 in the last 30 days"},{course:"Course 3",count:8,change:"+1 in the last 30 days"},{course:"Course 4",count:20,change:"+5 in the last 30 days"},{course:"Course 5",count:10,change:"+2 in the last 30 days"},{course:"Course 6",count:18,change:"+7 in the last 30 days"}],timeSpentData:[{activity:"Activity 1",current:120,previous:100},{activity:"Activity 2",current:90,previous:80}],lastRatingData:3,dailyStreak:3}},methods:{navigateTo(t){this.$router.push(t)},handleTimeSpentClick(){console.log("Time Spent button clicked")}}};const na=(0,A.A)(ra,[["render",be],["__scopeId","data-v-65e41c6b"]]);var ia=na;const ca={class:"educator-container"},la={class:"dashboard-header"},da={class:"logo-greeting"},ua={class:"greeting"},ha={class:"dashboard"},pa={class:"grid-container"},va={class:"grid-item pass-rates"},ma={class:"grid-item assessment-marks"},ga={class:"grid-item activity-revisits"},ka={class:"grid-item educator-rating"},Aa={class:"grid-item course-completion"};function ya(t,e,a,s,i,c){const l=(0,o.g2)("PassRatesChart"),d=(0,o.g2)("AssessmentMarks"),u=(0,o.g2)("ActivityRevisits"),h=(0,o.g2)("EducatorRating"),p=(0,o.g2)("CourseCompletion");return(0,o.uX)(),(0,o.CE)("div",ca,[(0,o.Lk)("header",la,[(0,o.Lk)("div",da,[e[0]||(e[0]=(0,o.Lk)("div",{class:"logo"},[(0,o.Lk)("img",{src:n,alt:"LMS Logo"})],-1)),(0,o.Lk)("div",ua,[(0,o.Lk)("h1",null,"Welcome, "+(0,r.v_)(i.userName),1)])])]),(0,o.Lk)("div",ha,[(0,o.Lk)("div",pa,[(0,o.Lk)("div",va,[(0,o.bF)(l)]),(0,o.Lk)("div",ma,[(0,o.bF)(d)]),(0,o.Lk)("div",ga,[(0,o.bF)(u)]),(0,o.Lk)("div",ka,[(0,o.bF)(h)]),(0,o.Lk)("div",Aa,[(0,o.bF)(p,{courses:t.courseCompletionData},null,8,["courses"])])])])])}const fa={class:"assessment-marks-container"};function Ca(t,e,a,s,r,n){const i=(0,o.g2)("apexchart");return(0,o.uX)(),(0,o.CE)("div",fa,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Assessment Performance Overview",-1)),e[1]||(e[1]=(0,o.Lk)("p",null,"Student Pass Rate Distribution",-1)),(0,o.bF)(i,{type:"pie",options:r.chartOptions,series:r.chartSeries,height:"450"},null,8,["options","series"])])}var ba={name:"PassRates",components:{apexchart:N.A},data(){return{chartSeries:[],chartOptions:{chart:{type:"pie"},labels:["Passed","Failed","Open"],colors:["#4caf50","#c40d1e","#ff9800"],dataLabels:{enabled:!0,formatter:t=>`${t}%`},tooltip:{y:{formatter:t=>`${t}%`}}}}},methods:{async fetchData(){try{const t=await fetch("http://localhost:8000/passRate/instructor"),e=await t.json();console.log("Pass Rate Data:",e);const a=e.userResults||{};let s=0,o=0,r=0;Object.values(a).forEach((t=>{s+=t.passed||0,o+=t.failed||0,r+=t.open||0}));const n=s+o+r;this.chartSeries=n>0?[Math.round(s/n*100),Math.round(o/n*100),Math.round(r/n*100)]:[0,0,0]}catch(t){console.error("Error fetching assessment data:",t)}}},mounted(){this.fetchData()}};const Ea=(0,A.A)(ba,[["render",Ca],["__scopeId","data-v-867498fe"]]);var La=Ea;const Ia={class:"assessment-marks-container"};function wa(t,e,a,s,r,n){const i=(0,o.g2)("apexchart");return(0,o.uX)(),(0,o.CE)("div",Ia,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Assessment Performance Overview",-1)),e[1]||(e[1]=(0,o.Lk)("p",null,"Class Average Grades per Assessment",-1)),(0,o.bF)(i,{type:"bar",options:r.chartOptions,series:r.chartSeries,height:"450"},null,8,["options","series"])])}var Da={name:"AssessmentMarks",components:{apexchart:N.A},data(){return{chartSeries:[],chartOptions:{chart:{type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"60%",endingShape:"rounded"}},dataLabels:{enabled:!0,style:{fontSize:"10px"},formatter:t=>`${t}%`,offsetY:-5},xaxis:{categories:[],labels:{style:{fontSize:"10px"},rotate:-45,trim:!1,maxHeight:120,wrap:!0}},yaxis:{min:0,max:100,labels:{formatter:t=>`${t}%`},title:{text:"Class Average (%)"}},colors:["#c40d1e"],tooltip:{y:{formatter:t=>`${t}%`}}}}},methods:{async fetchData(){try{const t=await fetch("http://localhost:8000/assessmentPerformance"),e=await t.json(),a=e.activitiesSummary;this.chartOptions={...this.chartOptions,xaxis:{categories:a.map((t=>t.activityId.split("/").pop().replace(/_/g," "))),labels:{style:{fontSize:"10px"},rotateAlways:!0,rotate:-45,trim:!1,maxHeight:120,wrap:!0}}},this.chartSeries=[{name:"Class Average",data:a.map((t=>Math.round(t.averageScore)))}]}catch(t){console.error("Error fetching assessment data:",t)}}},mounted(){this.fetchData()}};const xa=(0,A.A)(Da,[["render",wa],["__scopeId","data-v-3b5ec088"]]);var Ra=xa;const Ta={class:"course-completion-container"},Sa={class:"course-list"},Qa=["onClick"],Ua={class:"progress-bar"},Xa={class:"toggle-button"},Fa={key:0,class:"subcourse-list"},Na=["onClick"],Oa={class:"progress-bar"},Pa={class:"toggle-button"},Ba={key:0,class:"assessment-list"},_a={class:"assessment-details"},Ma={class:"progress-bar"},za={key:0};function Ka(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",Ta,[e[1]||(e[1]=(0,o.Lk)("h3",null,"Course Completion",-1)),(0,o.Lk)("ul",Sa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.localCourses,(a=>((0,o.uX)(),(0,o.CE)("li",{key:a.id},[(0,o.Lk)("div",{onClick:e=>t.toggleCourse(a.id),class:"course-header"},[(0,o.Lk)("span",null,(0,r.v_)(a.name),1),(0,o.Lk)("div",Ua,[(0,o.Lk)("div",{class:"progress",style:(0,r.Tr)({width:a.progress+"%"})},null,4)]),(0,o.Lk)("span",null,(0,r.v_)(a.completed)+" / "+(0,r.v_)(a.assigned)+" students ("+(0,r.v_)(a.progress)+"%) ",1),(0,o.Lk)("button",Xa,(0,r.v_)(a.open?"▼":"▶"),1)],8,Qa),a.open?((0,o.uX)(),(0,o.CE)("ul",Fa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.subcourses,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("div",{onClick:s=>t.toggleSubcourse(a.id,e.id),class:"subcourse-header"},[(0,o.Lk)("span",null,(0,r.v_)(e.name),1),(0,o.Lk)("div",Oa,[(0,o.Lk)("div",{class:"progress",style:(0,r.Tr)({width:e.progress+"%"})},null,4)]),(0,o.Lk)("span",null,(0,r.v_)(e.completed)+" / "+(0,r.v_)(e.assigned)+" students ("+(0,r.v_)(e.progress)+"%) ",1),(0,o.Lk)("button",Pa,(0,r.v_)(e.open?"▼":"▶"),1)],8,Na),e.open?((0,o.uX)(),(0,o.CE)("ul",Ba,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.assessments,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id},[(0,o.Lk)("div",_a,[(0,o.Lk)("span",null,(0,r.v_)(t.name),1),(0,o.Lk)("div",Ma,[(0,o.Lk)("div",{class:"progress",style:(0,r.Tr)({width:t.passRate+"%"})},null,4)]),(0,o.Lk)("span",null,(0,r.v_)(t.passedStudents)+" / "+(0,r.v_)(t.totalStudents)+" students ("+(0,r.v_)(t.passRate)+"%) ",1)])])))),128))])):(0,o.Q3)("",!0)])))),128))])):(0,o.Q3)("",!0),e[0]||(e[0]=(0,o.Lk)("hr",{class:"divider"},null,-1))])))),128))]),t.loading?((0,o.uX)(),(0,o.CE)("p",za,"Loading...")):(0,o.Q3)("",!0)])}var Wa={name:"CourseCompletionChart",data(){return{chartSeries:[],chartOptions:{chart:{type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,columnWidth:"70%",endingShape:"rounded"}},dataLabels:{enabled:!0,style:{fontSize:"10px"},formatter:t=>`${t}%`,offsetX:5},xaxis:{categories:[],labels:{style:{fontSize:"10px"},trim:!1,maxHeight:120,wrap:!0}},yaxis:{min:0,max:100,labels:{formatter:t=>`${t}%`},title:{text:"Completion Rate (%)"}},colors:["#4caf50"],tooltip:{y:{formatter:t=>`${t}%`}}}}},methods:{async fetchData(){try{const t=await fetch("http://localhost:8000/courseCompletionRate"),e=await t.json(),a=e.activitiesSummary;this.chartOptions={...this.chartOptions,xaxis:{categories:a.map((t=>t.activityId.split("/").pop().replace(/_/g," ")))}},this.chartSeries=[{name:"Completion Rate",data:a.map((t=>Math.round(t.completed/t.assigned*100)||0))}]}catch(t){console.error("Error fetching course completion data:",t)}}},mounted(){this.fetchData()}};const ja=(0,A.A)(Wa,[["render",Ka],["__scopeId","data-v-2b397d3a"]]);var Ha=ja;const Za={class:"educator-rating-container"},Ga={key:0},Ja={class:"rating-list"},Va={class:"activity-info"},Ya={class:"stars"},qa={class:"rating-text"},$a={key:1};function ts(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",Za,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Educator Rating Overview",-1)),e[1]||(e[1]=(0,o.Lk)("p",null,"Average Ratings per Activity",-1)),n.loaded?((0,o.uX)(),(0,o.CE)("div",Ga,[(0,o.Lk)("div",Ja,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.ratings,((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"rating-item"},[(0,o.Lk)("div",Va,[(0,o.Lk)("p",null,[(0,o.Lk)("strong",null,(0,r.v_)(t.name),1)])]),(0,o.Lk)("div",Ya,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.fullStars,(t=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"star full"},"★")))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.emptyStars,(t=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"star empty"},"☆")))),128))]),(0,o.Lk)("p",qa,(0,r.v_)(t.rating.toFixed(1))+" / 5",1)])))),128))])])):((0,o.uX)(),(0,o.CE)("p",$a,"Loading..."))])}var es={name:"EducatorRating",data(){return{ratings:[],loaded:!1}},methods:{async fetchEducatorRatings(){try{console.log("Fetching educator rating data...");const t=localStorage.getItem("token");if(!t)return void console.error("No authentication token found.");const e=await fetch("http://localhost:8000/activityRatings/instructor",{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Failed to fetch data: ${e.status}`);const a=await e.json();console.log("Fetched educator rating data:",a);const s=a.activitiesRatings;this.ratings=s.map((t=>{const e=parseFloat(t.meanRating.toFixed(1));return{name:this.extractCourseName(t.activityId),rating:e,fullStars:Math.floor(e),emptyStars:5-Math.floor(e)}})),this.loaded=!0}catch(t){console.error("Error fetching educator rating data:",t)}},extractCourseName(t){return decodeURIComponent(t.split("/").pop().replace(/_/g," "))}},mounted(){this.fetchEducatorRatings()}};const as=(0,A.A)(es,[["render",ts],["__scopeId","data-v-5ca260da"]]);var ss=as,os={name:"EducatorDashboard",components:{PassRatesChart:La,AssessmentMarks:Ra,ActivityRevisits:ze,CourseCompletion:Ha,EducatorRating:ss},data(){return{userName:"Instructor",adminToken:localStorage.getItem("instructorToken")}}};const rs=(0,A.A)(os,[["render",ya],["__scopeId","data-v-52593882"]]);var ns=rs;const is={class:"admin-container"},cs={class:"dashboard"},ls={class:"grid-container"},ds={class:"grid-item users-time"},us={class:"grid-item popular-times"},hs={class:"stats-row"},ps={class:"grid-item"},vs={class:"grid-item"},ms={class:"grid-item"},gs={class:"grid-item"},ks={class:"grid-item search-trends"},As={class:"grid-item keyword-list"};function ys(t,e,a,s,r,n){const i=(0,o.g2)("ActiveUsersChart"),c=(0,o.g2)("PopularTimesChart"),l=(0,o.g2)("ActiveUsers_Admin"),d=(0,o.g2)("TotalUsers"),u=(0,o.g2)("TotalCourses"),h=(0,o.g2)("TotalActivities"),p=(0,o.g2)("SearchTrendsChart"),v=(0,o.g2)("KeywordsList");return(0,o.uX)(),(0,o.CE)("div",is,[(0,o.Lk)("div",cs,[(0,o.Lk)("div",ls,[e[0]||(e[0]=(0,o.Lk)("p",{class:"subheader-1"},"Engagement",-1)),e[1]||(e[1]=(0,o.Lk)("p",{class:"subheader-2"},"Resource Availability & Content Popularity",-1)),(0,o.Lk)("div",ds,[(0,o.bF)(i)]),(0,o.Lk)("div",us,[(0,o.bF)(c)]),(0,o.Lk)("div",hs,[(0,o.Lk)("div",ps,[(0,o.bF)(l)]),(0,o.Lk)("div",vs,[(0,o.bF)(d)]),(0,o.Lk)("div",ms,[(0,o.bF)(u)]),(0,o.Lk)("div",gs,[(0,o.bF)(h)])]),(0,o.Lk)("div",ks,[(0,o.bF)(p)]),(0,o.Lk)("div",As,[(0,o.bF)(v)])])])])}const fs={class:"chart-container"},Cs={class:"chart-header"},bs=["value"];function Es(t,e,a,n,i,c){const l=(0,o.g2)("Line");return(0,o.uX)(),(0,o.CE)("div",fs,[(0,o.Lk)("div",Cs,[(0,o.Lk)("h3",null,"Active Users (Last "+(0,r.v_)(i.selectedDays)+" Days)",1),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.selectedDays=t),onChange:e[1]||(e[1]=(...t)=>c.fetchActiveUsersData&&c.fetchActiveUsersData(...t))},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(50,(t=>(0,o.Lk)("option",{key:t,value:t},(0,r.v_)(t)+" Days",9,bs))),64))],544),[[s.u1,i.selectedDays]])]),(0,o.bF)(l,{data:c.chartData,options:c.chartOptions},null,8,["data","options"])])}pt.t1.register(pt.PP,pt.kc,pt.FN,pt.No,pt.hE,pt.m_,pt.s$);var Ls={components:{Line:oe.N1},data(){return{adminToken:localStorage.getItem("adminToken"),activeUsersData:[],selectedDays:30}},computed:{averageUsers(){const t=this.activeUsersData.reduce(((t,e)=>t+e.users),0);return t/this.activeUsersData.length||0},chartData(){return{labels:this.activeUsersData.map((t=>t.date)),datasets:[{label:"Active Users",data:this.activeUsersData.map((t=>t.users)),fill:!0,backgroundColor:"rgba(200, 200, 200, 0.2)",borderColor:"rgb(150, 150, 150)",tension:.4},{label:"Average Users",data:Array(this.activeUsersData.length).fill(this.averageUsers),borderColor:"rgb(255, 99, 132)",borderWidth:2,borderDash:[10,5],pointRadius:0}]}},chartOptions(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{bottom:20}},plugins:{legend:{display:!0}},scales:{x:{title:{display:!0,text:"Day"},ticks:{autoSkip:!1,maxRotation:45,minRotation:45,padding:10}},y:{title:{display:!0,text:"Number of active Users"},beginAtZero:!0}}}}},methods:{async fetchActiveUsersData(){const t=new Date;let e=[];for(let a=this.selectedDays-1;a>=0;a--){const s=new Date;s.setDate(t.getDate()-a);const o=s.toISOString().split("T")[0];e.push(fetch(`http://localhost:8000/activeUser/${a+1}`,{headers:{Authorization:`Bearer ${this.adminToken}`}}).then((t=>t.json())).then((t=>({date:o,users:t.activeUser||0}))).catch((t=>(console.error(`Error fetching active users for day ${a+1}:`,t),{date:o,users:0}))))}this.activeUsersData=await Promise.all(e)}},created(){this.fetchActiveUsersData()}};const Is=(0,A.A)(Ls,[["render",Es],["__scopeId","data-v-924f8258"]]);var ws=Is;const Ds={class:"chart-container",style:{width:"100%",height:"400px"}};var xs={__name:"PopularTimesChart",setup(t){pt.t1.register(pt.A6,pt.E8,pt.PP,pt.kc,pt.hE,pt.m_);const e=(0,ht.KR)(null),a=(0,ht.KR)(null),s=(0,ht.KR)({labels:[],datasets:[{label:"Active Users by Hour",data:[],backgroundColor:"rgba(96, 96, 96, 0.7)",borderWidth:1}]}),r=async()=>{try{const t=await fetch("http://localhost:8000/popularTimes"),e=await t.json(),a=e.activeUsersByHour;s.value.labels=Object.keys(a).map((t=>`${t}:00`)),s.value.datasets[0].data=Object.values(a),n()}catch(t){console.error("Error fetching data:",t)}},n=()=>{a.value&&a.value.destroy(),a.value=new pt.t1(e.value,{type:"bar",data:s.value,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Hour of the Day"}},y:{title:{display:!0,text:"Number of Active Users"},beginAtZero:!0,ticks:{precision:0}}}}})};return(0,o.sV)(r),(t,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[a[0]||(a[0]=(0,o.Lk)("h3",{class:"chart-header"},"Popular Times",-1)),(0,o.Lk)("div",Ds,[(0,o.Lk)("canvas",{ref_key:"chartRef",ref:e},null,512)])],64))}};const Rs=(0,A.A)(xs,[["__scopeId","data-v-5d543c76"]]);var Ts=Rs;const Ss={class:"search-trends"},Qs={class:"search-header"},Us={class:"search-title"},Xs={class:"search-count"},Fs={class:"search-change"},Ns={class:"chart"};function Os(t,e,a,s,n,i){const c=(0,o.g2)("Bar");return(0,o.uX)(),(0,o.CE)("div",Ss,[(0,o.Lk)("div",Qs,[(0,o.Lk)("div",Us,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Top Search Trends",-1)),(0,o.Lk)("div",Xs,(0,r.v_)(i.totalSearches),1),(0,o.Lk)("div",Fs,"+"+(0,r.v_)(i.searchChange)+" in the last 30 days",1)])]),(0,o.Lk)("div",Ns,[(0,o.bF)(c,{data:i.chartData,options:i.chartOptions},null,8,["data","options"])])])}pt.t1.register(pt.PP,pt.kc,pt.E8,pt.hE,pt.m_,pt.s$);var Ps={name:"SearchTrendsChart",components:{Bar:oe.yP},props:{data:Array},computed:{totalSearches(){return this.data.reduce(((t,e)=>t+e.count),0)},searchChange(){return Math.floor(.12*this.totalSearches)},chartData(){return{labels:this.data.map((t=>t.query)),datasets:[{label:"Search Volume",data:this.data.map((t=>t.count)),backgroundColor:"#3b82f6",borderRadius:4,hoverBackgroundColor:"#9333ea",barThickness:30}]}},chartOptions(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"#f0f0f0"}},x:{grid:{display:!1}}}}}}};const Bs=(0,A.A)(Ps,[["render",Os],["__scopeId","data-v-c87d1e2e"]]);var _s=Bs;const Ms={class:"keywords-list"},zs={class:"keyword-main"},Ks={class:"keyword-number"},Ws={class:"keyword-name"},js={class:"keyword-count"},Hs={class:"keyword-change"};function Zs(t,e,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",Ms,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Top 5 Keywords",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.keywords,((t,e)=>((0,o.uX)(),(0,o.CE)("div",{class:"keyword-item",key:e},[(0,o.Lk)("div",zs,[(0,o.Lk)("span",Ks,(0,r.v_)(e+1)+". ",1),(0,o.Lk)("span",Ws,(0,r.v_)(t.keyword),1),(0,o.Lk)("span",js,(0,r.v_)(t.count)+"x",1)]),(0,o.Lk)("span",Hs,(0,r.v_)(t.change)+" in the last 30 days",1)])))),128))])}var Gs={name:"KeywordsList",props:{keywords:Array}};const Js=(0,A.A)(Gs,[["render",Zs],["__scopeId","data-v-c0edf7cc"]]);var Vs=Js;const Ys={class:"overview-box"};function qs(t,e,a,s,n,i){const c=(0,o.g2)("x");return(0,o.uX)(),(0,o.CE)("div",Ys,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Total Users",-1)),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(n.totalUsers),1)])),_:1})])}var $s={data(){return{totalUsers:0,adminToken:localStorage.getItem("adminToken")}},methods:{async fetchTotalUsers(){try{const t=await fetch("http://localhost:8000/totalUsers",{headers:{Authorization:`Bearer ${this.adminToken}`}});if(!t.ok)throw new Error("Failed to fetch totalUsers");const e=await t.json();void 0!==e.totalUsers&&(this.totalUsers=e.totalUsers)}catch(t){console.error("Error fetching totalUsers:",t)}}},created(){this.fetchTotalUsers()}};const to=(0,A.A)($s,[["render",qs],["__scopeId","data-v-21707798"]]);var eo=to;const ao={class:"overview-box"};function so(t,e,a,s,n,i){const c=(0,o.g2)("x");return(0,o.uX)(),(0,o.CE)("div",ao,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Total Activities",-1)),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(n.totalActivities),1)])),_:1})])}var oo={data(){return{totalActivities:0,adminToken:localStorage.getItem("adminToken")}},methods:{async fetchTotalActivities(){try{const t=await fetch("http://localhost:8000/totalActivities",{headers:{Authorization:`Bearer ${this.adminToken}`}});if(!t.ok)throw new Error("Failed to fetch totalActivities");const e=await t.json();e.activities&&Array.isArray(e.activities)&&(this.totalActivities=e.activities.length)}catch(t){console.error("Error fetching totalActivities:",t)}}},created(){this.fetchTotalActivities()}};const ro=(0,A.A)(oo,[["render",so],["__scopeId","data-v-571dfe52"]]);var no=ro;const io={class:"overview-box"};function co(t,e,a,s,n,i){const c=(0,o.g2)("x");return(0,o.uX)(),(0,o.CE)("div",io,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Total Courses",-1)),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(n.totalCourses),1)])),_:1})])}var lo={data(){return{totalCourses:0,adminToken:localStorage.getItem("adminToken")}},methods:{async fetchTotalCourses(){try{const t=await fetch("http://localhost:8000/totalCourses",{headers:{Authorization:`Bearer ${this.adminToken}`}});if(!t.ok)throw new Error("Failed to fetch totalCourses");const e=await t.json();e.totalCourses&&Array.isArray(e.totalCourses)&&(this.totalCourses=e.totalCourses.length)}catch(t){console.error("Error fetching totalCourses:",t)}}},created(){this.fetchTotalCourses()}};const uo=(0,A.A)(lo,[["render",co],["__scopeId","data-v-f410863e"]]);var ho=uo;const po={class:"overview-box"};function vo(t,e,a,s,n,i){const c=(0,o.g2)("x");return(0,o.uX)(),(0,o.CE)("div",po,[e[0]||(e[0]=(0,o.Lk)("h3",null,"Active Users in Course",-1)),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(n.activeUsers),1)])),_:1}),(0,o.Lk)("p",{class:(0,r.C4)(i.userChangeClass)},(0,r.v_)(i.userChangeText),3)])}var mo={data(){return{activeUsers:0,previousActiveUsers:0,userChange:0,adminToken:localStorage.getItem("adminToken")}},computed:{userChangeText(){return`${this.userChange>=0?"+":""}${this.userChange} Users in the last 30 days`},userChangeClass(){return{"text-green":this.userChange>0,"text-red":this.userChange<0}}},methods:{async fetchActiveUsers(){try{const t=await fetch("http://localhost:8000/activeUser/1",{headers:{Authorization:`Bearer ${this.adminToken}`}});if(!t.ok)throw new Error("Failed to fetch activeUser (1 days)");const e=await t.json();void 0!==e.activeUser&&(this.activeUsers=e.activeUser);const a=await fetch("http://localhost:8000/activeUser/30",{headers:{Authorization:`Bearer ${this.adminToken}`}});if(!a.ok)throw new Error("Failed to fetch activeUser (30 day)");const s=await a.json();void 0!==s.activeUser&&(this.previousActiveUsers=s.activeUser),this.userChange=this.activeUsers-this.previousActiveUsers}catch(t){console.error("Error fetching activeUser data:",t)}}},created(){this.fetchActiveUsers()}};const go=(0,A.A)(mo,[["render",vo],["__scopeId","data-v-6c812d61"]]);var ko=go,Ao={name:"AdminDashboard",components:{ActiveUsersChart:ws,PopularTimesChart:Ts,SearchTrendsChart:_s,KeywordsList:Vs,ActiveUsers_Admin:ko,TotalActivities:no,TotalCourses:ho,TotalUsers:eo},data(){return{userName:"Administrator",adminToken:localStorage.getItem("adminToken")}}};const yo=(0,A.A)(Ao,[["render",ys],["__scopeId","data-v-7100df3b"]]);var fo=yo;const Co=[{path:"/",redirect:"/overall"},{path:"/overall",name:"Overall",component:Lt},{path:"/performance",name:"Performance",component:de},{path:"/engagement",name:"Engagement",component:ia},{path:"/educator-dashboard",name:"EducatorDashboard",component:ns},{path:"/admin-dashboard",name:"AdminDashboard",component:fo}],bo=(0,C.aE)({history:(0,C.LA)(),routes:Co});var Eo=bo;const Lo=(0,s.Ef)(f);Lo.use(Eo),Lo.mount("#app")},7762:function(t){t.exports="data:image/png;base64,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"}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,r){if(!s){var n=1/0;for(d=0;d<t.length;d++){s=t[d][0],o=t[d][1],r=t[d][2];for(var i=!0,c=0;c<s.length;c++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[c])}))?s.splice(c--,1):(i=!1,r<n&&(n=r));if(i){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[s,o,r]}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,r,n=s[0],i=s[1],c=s[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var d=c(a)}for(e&&e(s);l<n.length;l++)r=n[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},s=self["webpackChunkvue_dashboard"]=self["webpackChunkvue_dashboard"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4316)}));s=a.O(s)})();
//# sourceMappingURL=app.07b450db.js.map