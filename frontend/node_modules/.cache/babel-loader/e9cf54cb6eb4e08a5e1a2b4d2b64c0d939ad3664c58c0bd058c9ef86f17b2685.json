{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport jwtDecode from 'jwt-decode';\nconsole.log('jwtDecode:', jwtDecode);\nexport default {\n  name: 'App',\n  data() {\n    return {\n      userName: 'User',\n      // Default name\n      role: '' // User role\n    };\n  },\n  computed: {\n    showHeader() {\n      return this.$route.path !== '/educator-dashboard';\n    }\n  },\n  methods: {\n    navigateTo(route) {\n      this.$router.push(route);\n    },\n    fetchUserName() {\n      const token = localStorage.getItem('token'); // Fetch the token from local storage\n      if (token) {\n        const decodedToken = jwtDecode(token); // Decode the token\n        this.userName = decodedToken.name;\n        this.role = decodedToken.role; // Extract the user role from the token\n        this.redirectBasedOnRole();\n      } else {\n        console.error('No token found');\n      }\n    },\n    redirectBasedOnRole() {\n      if (this.role === 'learner') {\n        this.$router.push('/overall');\n      } else if (this.role === 'admin') {\n        this.$router.push('/admin-dashboard');\n      } else if (this.role === 'educator') {\n        this.$router.push('/educator-dashboard');\n      }\n    }\n  },\n  created() {\n    this.fetchUserName();\n  }\n};","map":{"version":3,"names":["jwtDecode","console","log","name","data","userName","role","computed","showHeader","$route","path","methods","navigateTo","route","$router","push","fetchUserName","token","localStorage","getItem","decodedToken","redirectBasedOnRole","error","created"],"sources":["/Users/omar/awt-pj-ws2425-analytics-dashboard-1/frontend/src/App.vue"],"sourcesContent":["<template>\n<div class=\"app-container\">\n  <!-- Conditional Header -->\n  <header class=\"dashboard-header\">\n    <div class=\"logo-greeting\">\n      <div class=\"logo\">\n        <img src=\"@/assets/lms-Logo.png\" alt=\"LMS Logo\" />\n      </div>\n      <div class=\"greeting\">\n        <h1>Welcome, {{ userName }}</h1>\n        <p v-if=\"showHeader\">Glad to see you again, ready for another session?</p>\n        <p v-else>Great to have you back, ready to inspire and guide the next generation?</p>\n      </div>\n    </div>\n    <nav v-if=\"showHeader\" class=\"nav-buttons\">\n      <button @click=\"navigateTo('/overall')\">Overall</button>\n      <button @click=\"navigateTo('/performance')\">Performance</button>\n      <button @click=\"navigateTo('/engagement')\">Engagement</button>\n      <button @click=\"navigateTo('/admin-dashboard')\">Admin</button>\n      <button @click=\"navigateTo('/educator-dashboard')\">Educator</button>\n    </nav>\n  </header>\n\n  <!-- Dynamic Content -->\n  <main class=\"main-content\">\n    <router-view />\n  </main>\n</div>\n</template>\n\n<script>\nimport jwtDecode from 'jwt-decode';\nconsole.log('jwtDecode:', jwtDecode);\n\nexport default {\nname: 'App',\ndata() {\n  return {\n    userName: 'User', // Default name\n    role: '', // User role\n  };\n},\ncomputed: {\n  showHeader() {\n    return this.$route.path !== '/educator-dashboard';\n  }\n},\nmethods: {\n  navigateTo(route) {\n    this.$router.push(route);\n  },\n  fetchUserName() {\n    const token = localStorage.getItem('token'); // Fetch the token from local storage\n    if (token) {\n      const decodedToken = jwtDecode(token); // Decode the token\n      this.userName = decodedToken.name;\n      this.role = decodedToken.role; // Extract the user role from the token\n      this.redirectBasedOnRole();\n    } else {\n      console.error('No token found');\n    }\n  },\n  redirectBasedOnRole() {\n    if (this.role === 'learner') {\n      this.$router.push('/overall');\n    } else if (this.role === 'admin') {\n      this.$router.push('/admin-dashboard');\n    } else if (this.role === 'educator') {\n      this.$router.push('/educator-dashboard');\n    }\n  },\n},\ncreated() {\n  this.fetchUserName();\n},\n};\n</script>\n\n<style>\n/* Reset */\n* {\nmargin: 0;\npadding: 0;\nbox-sizing: border-box;\n}\n\n/* Font Family */\nbody {\nfont-family: 'Inter', sans-serif;\n}\n\n/* App Container */\n.app-container {\ndisplay: flex;\nflex-direction: column;\nheight: 100vh;\nwidth: 100%;\noverflow: hidden;\n}\n\n/* Header Styling */\n.dashboard-header {\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nbackground-color: #c40d1e; /* Red Background - TU Color */\nheight: 100px; /* Fixed height */\npadding: 0 20px;\ncolor: white;\n}\n\n.logo-greeting {\ndisplay: flex;\nalign-items: center;\n}\n\n.greeting {\ntext-align: left;\nmargin-left: 10px; /* Minimal space between logo and greeting */\n}\n\n.greeting h1 {\nmargin: 0;\nfont-size: 24px;\n}\n\n.greeting p {\nmargin: 0;\nfont-size: 14px;\n}\n\n/* Navigation Buttons */\n.nav-buttons {\ndisplay: flex;\ngap: 20px;\nmargin-left: auto; /* Align buttons to the right */\n}\n\n/* Logo Styling */\n.logo {\nmargin-right: 10px; /* Minimal space between logo and greeting */\n}\n\n.logo img {\nheight: 40px; /* Adjust the height as needed */\n}\n\n/* Button Styling */\nbutton {\npadding: 20px 40px; /* Bigger inner padding */\nborder: 2px solid white; /* Hollow buttons with white border */\nborder-radius: 0; /* No rounded edges */\nbackground-color: transparent; /* Transparent background */\ncolor: white; /* White text */\nfont-size: 18px; /* Bigger font size */\nfont-family: 'Inter', sans-serif;\ncursor: pointer;\ntransition: background-color 0.3s, transform 0.3s;\n}\n\nbutton:hover {\nbackground-color: rgba(255, 255, 255, 0.1); /* Light white on hover */\ntransform: scale(1.05);\n}\n\nbutton:active {\nbackground-color: rgba(255, 255, 255, 0.2); /* Slightly darker on click */\ntransform: scale(1);\n}\n\n/* Main Content */\n.main-content {\nheight: calc(100vh - 100px); /* Viewport height minus header height */\noverflow-y: auto;\npadding: 20px;\nbackground-color: #f5f5f5;\n}\n</style>\n\n<!-- Add this in the <head> of your index.html -->\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap\" rel=\"stylesheet\">"],"mappings":";AA+BA,OAAOA,SAAQ,MAAO,YAAY;AAClCC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,SAAS,CAAC;AAEpC,eAAe;EACfG,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,MAAM;MAAE;MAClBC,IAAI,EAAE,EAAE,CAAE;IACZ,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,OAAO,IAAI,CAACC,MAAM,CAACC,IAAG,KAAM,qBAAqB;IACnD;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,KAAK,EAAE;MAChB,IAAI,CAACC,OAAO,CAACC,IAAI,CAACF,KAAK,CAAC;IAC1B,CAAC;IACDG,aAAaA,CAAA,EAAG;MACd,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;MAC7C,IAAIF,KAAK,EAAE;QACT,MAAMG,YAAW,GAAIpB,SAAS,CAACiB,KAAK,CAAC,EAAE;QACvC,IAAI,CAACZ,QAAO,GAAIe,YAAY,CAACjB,IAAI;QACjC,IAAI,CAACG,IAAG,GAAIc,YAAY,CAACd,IAAI,EAAE;QAC/B,IAAI,CAACe,mBAAmB,CAAC,CAAC;MAC5B,OAAO;QACLpB,OAAO,CAACqB,KAAK,CAAC,gBAAgB,CAAC;MACjC;IACF,CAAC;IACDD,mBAAmBA,CAAA,EAAG;MACpB,IAAI,IAAI,CAACf,IAAG,KAAM,SAAS,EAAE;QAC3B,IAAI,CAACQ,OAAO,CAACC,IAAI,CAAC,UAAU,CAAC;MAC/B,OAAO,IAAI,IAAI,CAACT,IAAG,KAAM,OAAO,EAAE;QAChC,IAAI,CAACQ,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAAC;MACvC,OAAO,IAAI,IAAI,CAACT,IAAG,KAAM,UAAU,EAAE;QACnC,IAAI,CAACQ,OAAO,CAACC,IAAI,CAAC,qBAAqB,CAAC;MAC1C;IACF;EACF,CAAC;EACDQ,OAAOA,CAAA,EAAG;IACR,IAAI,CAACP,aAAa,CAAC,CAAC;EACtB;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}