{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/lms-Logo.png';\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nconst _hoisted_2 = {\n  class: \"dashboard-header\"\n};\nconst _hoisted_3 = {\n  class: \"logo-greeting\"\n};\nconst _hoisted_4 = {\n  class: \"greeting\"\n};\nconst _hoisted_5 = {\n  class: \"nav-buttons\"\n};\nconst _hoisted_6 = {\n  class: \"main-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Conditional Header \"), _createElementVNode(\"header\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"logo\"\n  }, [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"LMS Logo\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h1\", null, \"Welcome, \" + _toDisplayString($data.userName), 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"p\", null, \"Glad to see you again, ready for another session?\", -1 /* HOISTED */)), _cache[6] || (_cache[6] = _createElementVNode(\"p\", null, \"Great to have you back, ready to inspire and guide the next generation?\", -1 /* HOISTED */))])]), _createElementVNode(\"nav\", _hoisted_5, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.navigateTo('/overall'))\n  }, \"Overall\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.navigateTo('/performance'))\n  }, \"Performance\"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.navigateTo('/engagement'))\n  }, \"Engagement\"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $options.navigateTo('/admin-dashboard'))\n  }, \"Admin\"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.navigateTo('/educator-dashboard'))\n  }, \"Educator\")])]), _createCommentVNode(\" Dynamic Content \"), _createElementVNode(\"main\", _hoisted_6, [_createVNode(_component_router_view)])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","src","alt","_hoisted_4","_toDisplayString","$data","userName","_hoisted_5","onClick","_cache","$event","$options","navigateTo","_hoisted_6","_createVNode","_component_router_view"],"sources":["/Users/omar/awt-pj-ws2425-analytics-dashboard-1/frontend/src/App.vue"],"sourcesContent":["<template>\n<div class=\"app-container\">\n  <!-- Conditional Header -->\n  <header class=\"dashboard-header\">\n    <div class=\"logo-greeting\">\n      <div class=\"logo\">\n        <img src=\"@/assets/lms-Logo.png\" alt=\"LMS Logo\" />\n      </div>\n      <div class=\"greeting\">\n        <h1>Welcome, {{ userName }}</h1>\n        <p>Glad to see you again, ready for another session?</p>\n        <p>Great to have you back, ready to inspire and guide the next generation?</p>\n      </div>\n    </div>\n    <nav  class=\"nav-buttons\">\n      <button @click=\"navigateTo('/overall')\">Overall</button>\n      <button @click=\"navigateTo('/performance')\">Performance</button>\n      <button @click=\"navigateTo('/engagement')\">Engagement</button>\n      <button @click=\"navigateTo('/admin-dashboard')\">Admin</button>\n      <button @click=\"navigateTo('/educator-dashboard')\">Educator</button>\n    </nav>\n  </header>\n\n  <!-- Dynamic Content -->\n  <main class=\"main-content\">\n    <router-view />\n  </main>\n</div>\n</template>\n\n<script>\n// Import jwt-decode correctly\nimport { jwtDecode } from 'jwt-decode';\nconsole.log('jwtDecode:', jwtDecode); // Debug: Check if jwtDecode is imported\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      userName: 'User', // Default name\n      role: '', // User role\n    };\n  },\n  computed: {\n    showHeader() {\n      return this.$route.path !== '/educator-dashboard';\n    }\n  },\n  methods: {\n    navigateTo(route) {\n      this.$router.push(route);\n    },\n    fetchUserName() {\n      const token = localStorage.getItem('token'); // Get the token\n      console.log('Token:', token); // Debug: Check if token exists\n\n      if (token) {\n        try {\n          console.log('jwtDecode:', jwtDecode); // Debug: Check if jwtDecode is imported\n          const decodedToken = jwtDecode(token); // Decode the token\n          console.log('Decoded Token:', decodedToken); // Debug: Check decoded token\n\n          this.userName = decodedToken.name; // Set the user's name\n          this.role = decodedToken.role; // Set the user's role\n\n          // Redirect based on role\n          const roleRoutes = {\n            learner: '/overall',\n            admin: '/admin-dashboard',\n            educator: '/educator-dashboard',\n          };\n          const route = roleRoutes[this.role];\n          console.log('User Role:', this.role); // Debug: Check the role\n          console.log('Redirecting to:', route); // Debug: Check the route\n\n          if (route && this.$route.path !== route) {\n            this.$router.push(route); // Redirect to the role-specific route\n          }\n        } catch (error) {\n          console.error('Invalid token:', error);\n          this.$router.push('/login'); // Redirect to login if the token is invalid\n        }\n      } else {\n        console.error('No token found');\n        this.$router.push('/login'); // Redirect to login if no token is found\n      }\n    },\n  },\n  created() {\n    this.fetchUserName();\n  },\n};\n</script>\n\n<style>\n/* Reset */\n* {\nmargin: 0;\npadding: 0;\nbox-sizing: border-box;\n}\n\n/* Font Family */\nbody {\nfont-family: 'Inter', sans-serif;\n}\n\n/* App Container */\n.app-container {\ndisplay: flex;\nflex-direction: column;\nheight: 100vh;\nwidth: 100%;\noverflow: hidden;\n}\n\n/* Header Styling */\n.dashboard-header {\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nbackground-color: #c40d1e; /* Red Background - TU Color */\nheight: 100px; /* Fixed height */\npadding: 0 20px;\ncolor: white;\n}\n\n.logo-greeting {\ndisplay: flex;\nalign-items: center;\n}\n\n.greeting {\ntext-align: left;\nmargin-left: 10px; /* Minimal space between logo and greeting */\n}\n\n.greeting h1 {\nmargin: 0;\nfont-size: 24px;\n}\n\n.greeting p {\nmargin: 0;\nfont-size: 14px;\n}\n\n/* Navigation Buttons */\n.nav-buttons {\ndisplay: flex;\ngap: 20px;\nmargin-left: auto; /* Align buttons to the right */\n}\n\n/* Logo Styling */\n.logo {\nmargin-right: 10px; /* Minimal space between logo and greeting */\n}\n\n.logo img {\nheight: 40px; /* Adjust the height as needed */\n}\n\n/* Button Styling */\nbutton {\npadding: 20px 40px; /* Bigger inner padding */\nborder: 2px solid white; /* Hollow buttons with white border */\nborder-radius: 0; /* No rounded edges */\nbackground-color: transparent; /* Transparent background */\ncolor: white; /* White text */\nfont-size: 18px; /* Bigger font size */\nfont-family: 'Inter', sans-serif;\ncursor: pointer;\ntransition: background-color 0.3s, transform 0.3s;\n}\n\nbutton:hover {\nbackground-color: rgba(255, 255, 255, 0.1); /* Light white on hover */\ntransform: scale(1.05);\n}\n\nbutton:active {\nbackground-color: rgba(255, 255, 255, 0.2); /* Slightly darker on click */\ntransform: scale(1);\n}\n\n/* Main Content */\n.main-content {\nheight: calc(100vh - 100px); /* Viewport height minus header height */\noverflow-y: auto;\npadding: 20px;\nbackground-color: #f5f5f5;\n}\n</style>\n\n<!-- Add this in the <head> of your index.html -->\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap\" rel=\"stylesheet\">"],"mappings":";OAMaA,UAA2B;;EALnCC,KAAK,EAAC;AAAe;;EAEhBA,KAAK,EAAC;AAAkB;;EACzBA,KAAK,EAAC;AAAe;;EAInBA,KAAK,EAAC;AAAU;;EAMjBA,KAAK,EAAC;AAAa;;EAUrBA,KAAK,EAAC;AAAc;;;uBAvB5BC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJC,mBAAA,wBAA2B,EAC3BC,mBAAA,CAkBS,UAlBTC,UAkBS,GAjBPD,mBAAA,CASM,OATNE,UASM,G,0BARJF,mBAAA,CAEM;IAFDJ,KAAK,EAAC;EAAM,IACfI,mBAAA,CAAkD;IAA7CG,GAA2B,EAA3BR,UAA2B;IAACS,GAAG,EAAC;2BAEvCJ,mBAAA,CAIM,OAJNK,UAIM,GAHJL,mBAAA,CAAgC,YAA5B,WAAS,GAAAM,gBAAA,CAAGC,KAAA,CAAAC,QAAQ,kB,0BACxBR,mBAAA,CAAwD,WAArD,mDAAiD,sB,0BACpDA,mBAAA,CAA8E,WAA3E,yEAAuE,qB,KAG9EA,mBAAA,CAMM,OANNS,UAMM,GALJT,mBAAA,CAAwD;IAA/CU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU;KAAc,SAAO,GAC/Cd,mBAAA,CAAgE;IAAvDU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU;KAAkB,aAAW,GACvDd,mBAAA,CAA8D;IAArDU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU;KAAiB,YAAU,GACrDd,mBAAA,CAA8D;IAArDU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU;KAAsB,OAAK,GACrDd,mBAAA,CAAoE;IAA3DU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU;KAAyB,UAAQ,E,KAI/Df,mBAAA,qBAAwB,EACxBC,mBAAA,CAEO,QAFPe,UAEO,GADLC,YAAA,CAAeC,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}